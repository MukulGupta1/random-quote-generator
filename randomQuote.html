
<html lang="en">
<head>
  <title>Random Quote Generator</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="spinner.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <script>window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
    t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);

    t._e = [];
    t.ready = function(f) {
      t._e.push(f);
    };

    return t;
  }(document, "script", "twitter-wjs"));
  </script>

  <script>
  $(document).ready(function() {

    $("#nextQuoteButton").on("click", function(){

      $.ajax({
        type: "GET",
        url: "http://api.forismatic.com/api/1.0/?method=getQuote&format=json&lang=en",
        cache: false,

        beforeSend: function() {
          //Start showing Loading...
          // $('#loading').html('Loading..');
          $('#spinner').addClass('loader');

        //   $("#loading").html('<span class="glyphicon glyphicon-repeat fast-right-spinner" style="-webkit-animation: glyphicon-spin-r 1s infinite linear; animation: glyphicon-spin-r 1s infinite linear"></span>');
        },

        success: function(json) {
          $("#quoteText").html(json.quoteText);
          $("#quoteSpeaker").html(json.quoteAuthor);

          //Stop showing Loading...
          // $('#loading').html('');
          $('#spinner').removeClass('loader');

          //Update tweet content
          $('#tweetBtn iframe').remove();
          var tweetBtn = $('<a></a>')
          .addClass('twitter-share-button')
          .attr('href', 'http://twitter.com/share')
          .attr('data-text', json.quoteText + " - " + json.quoteAuthor);

          $('#tweetBtn').append(tweetBtn);
          twttr.widgets.load();
        }
      });
    });
  });
  </script>
</head>

<body>
  <div class="container">
    <h2>Random quote generator</h2>
    <div class="panel panel-default center-block" style="width:600px">
      <div class="panel-body">

        <div id="quote-block">
          <blockquote>
            <div id ="quoteText"><p>Things that were hard to bear are sweet to remember.</p></div>
            <footer><div id ="quoteSpeaker">Seneca</div></footer>
          </blockquote>
        </div>
        <div id="tweetBtn">
          <a href="https://twitter.com/share" class="twitter-share-button" data-text ="Things that were hard to bear are sweet to remember. - Seneca" data-show-count="false">Tweet</a>
        </div>
        <div id="nextQuoteButton" class="row" style="margin:0; float:right" >
          <button class="btn btn-primary">Next Quote</button>
        </div>
        <div id="spinner" class="row" style="margin:10 0 0 0"></div>
        <!-- <div id=""></div> -->
      </div>
    </div>
  </div>
</body>

</html>
